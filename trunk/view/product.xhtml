<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j">

<ui:composition template="#{store.templatePath}/template.xhtml">

    <ui:define name="title">#{product.name}</ui:define>


    <ui:define name="sidebar">
        <ui:include src="/incl/categories.xhtml"/>
    </ui:define>


    <ui:define name="body">

        <div class="product-central-column">

            <h1>#{product.name}</h1>

            <div>#{product.description}</div>

            <div class="product-long-description">
                <h:outputText value="#{product.longDescription}" escape="false"/>
            </div>


        </div>


        <div class="product-right-column">

            <div class="product-panel">
            <span class="product-price">
                <span class="product-price-digits">
                    <h:outputText value="#{product.price}"><f:convertNumber type="currency"
                                                                            currencySymbol=""/></h:outputText></span> руб.</span>
                <br/><br/>


                <a4j:form>
                    <a4j:commandButton value="#{messages.orderButton}" action="#{cart.addProduct(product,1)}" reRender="cart" />
                </a4j:form>

            </div>

            <div class="product-properties">
                <ui:repeat value="#{product.properties}" var="p">
                    <p>#{p.name}: #{p.value}</p>
                </ui:repeat>
            </div>

        </div>


    </ui:define>

</ui:composition>

</html>