<rich:toolBar
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:rich="http://richfaces.org/rich">
    <rich:toolBarGroup>
        <h:outputText value="#{projectName}:"/>
        <s:link id="menuHomeId" view="/home.xhtml" value="Главная" propagation="none"/>
    </rich:toolBarGroup>
        <s:link view="/admin/productslist.xhtml"
               value="Товары"
               id="Products"
            includePageParams="false"
             propagation="none" />

    <s:link view="/admin/ordersList.xhtml"
           value="Заказы"
           id="Orders"
        includePageParams="false"
         propagation="none"/>

    <s:link view="/admin/batchesList.xhtml"
           value="Партии"
           id="Batches"
        includePageParams="false"
         propagation="none"/>


    <s:link view="/admin/usersList.xhtml"
           value="Клиенты"
           id="Clients"
        includePageParams="false"
         propagation="none"/>


    <rich:dropDownMenu showDelay="250" hideDelay="0" submitMode="none" style="text-decoration: none;">
        <f:facet name="label">Магазин</f:facet>
	<rich:menuItem>
    	<s:link view="/admin/productslist.xhtml"
           	value="Товары"
           	id="ProductId"
			includePageParams="false"
     		propagation="none" />
     </rich:menuItem>
	<rich:menuItem>
    	<s:link view="/admin/ordersList.xhtml"
           	value="Заказы"
           	id="OrderId"
			includePageParams="false"
     		propagation="none"/>
     </rich:menuItem>
	<rich:menuItem>
    	<s:link view="/usersList.xhtml"
           	value="Клиенты"
           	id="UserId"
			includePageParams="false"
     		propagation="none"/>
     </rich:menuItem>
    </rich:dropDownMenu>
    <!-- @newMenuItem@ -->
    <rich:toolBarGroup location="right">
        <h:outputText id="menuWelcomeId" value="Вошёл как #{credentials.username}" rendered="#{identity.loggedIn}"/>


<rich:modalPanel id="authpanel" width="200" height="156" left="600" top="70">
    <f:facet name="header">
        <h:panelGroup>
            <h:outputText value="#{messages.loginTitle}"/>
        </h:panelGroup>
    </f:facet>
    <f:facet name="controls">
        <h:panelGroup>
            <h:graphicImage value="/img/close.png" styleClass="hidelink" id="hidelink"/>
            <rich:componentControl for="authpanel" attachTo="hidelink" operation="hide" event="onclick"/>
        </h:panelGroup>
    </f:facet>

    <ui:include src="/WEB-INF/incl/login.xhtml" />

</rich:modalPanel>


            <h:outputLink value="#" id="enter-href" styleClass="enter-href" rendered="#{not identity.loggedIn}">
                Вход с паролем
                <rich:componentControl for="authpanel" attachTo="enter-href" operation="show" event="onclick"/>
            </h:outputLink>

             <h:form id="LogoutForm" style="display: inline;">
            <h:commandLink action="#{identity.logout}" id="exit-href" styleClass="exit-href" rendered="#{identity.loggedIn}">
                Выход
            </h:commandLink></h:form>
            <br />

    </rich:toolBarGroup>
</rich:toolBar>
